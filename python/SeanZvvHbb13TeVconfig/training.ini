#-------------------------------------------------
# TMVA Factory Settings
[factory]
factoryname = MVA
factorysettings = V:!Silent:!Color:!DrawProgressBar:AnalysisType=Classification:Transformations=I

#-------------------------------------------------
# TMVA Classifier Settings
[MVAGeneral]
type = BDT
#settings_V24 = NTrees=852:MaxDepth=4:MinNodeSize=2.3103033497285357:nCuts=24:BoostType=Grad:UseBaggedBoost=False:Shrinkage=0.1593548865074517:NodePurityLimit=0.2608420790469229:SeparationType=CrossEntropy
#settings = NTrees=289:MaxDepth=5:MinNodeSize=0.416364956233:nCuts=16:BoostType=Grad:UseBaggedBoost=True:Shrinkage=0.0954152279012:NodePurityLimit=0.0915613170424:SeparationType=CrossEntropy
settings = NTrees=702:Shrinkage=0.0579585188348:nCuts=11:NodePurityLimit=0.626760138641:MinNodeSize=0.253585704968:UseBaggedBoost=True:MaxDepth=5:BoostType=Grad:SeparationType=SDivSqrtSPlusB 
#-------------------------------------------------
# Classification Features
[ZvvBDTVars]

Nominal = HCMVAV2_reg_mass HCMVAV2_reg_pt abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(Jet_pt_reg[hJCMVAV2idx[0]],Jet_pt_reg[hJCMVAV2idx[1]]) min(Jet_pt_reg[hJCMVAV2idx[0]],Jet_pt_reg[hJCMVAV2idx[1]]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

JER_Up = HCMVAV2_reg_mass_corrJERUp HCMVAV2_reg_pt_corrJERUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrJERUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regJERUp[0],hJetCMVAV2_pt_regJERUp[1]) min(hJetCMVAV2_pt_regJERUp[0],hJetCMVAV2_pt_regJERUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

JER_Down = HCMVAV2_reg_mass_corrJERDown HCMVAV2_reg_pt_corrJERDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrJERDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regJERDown[0],hJetCMVAV2_pt_regJERDown[1]) min(hJetCMVAV2_pt_regJERDown[0],hJetCMVAV2_pt_regJERDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpDataMC_Up = HCMVAV2_reg_mass_corrPileUpDataMCUp HCMVAV2_reg_pt_corrPileUpDataMCUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpDataMCUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpDataMCUp[0],hJetCMVAV2_pt_regPileUpDataMCUp[1]) min(hJetCMVAV2_pt_regPileUpDataMCUp[0],hJetCMVAV2_pt_regPileUpDataMCUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpDataMC_Down = HCMVAV2_reg_mass_corrPileUpDataMCDown HCMVAV2_reg_pt_corrPileUpDataMCDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpDataMCDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpDataMCDown[0],hJetCMVAV2_pt_regPileUpDataMCDown[1]) min(hJetCMVAV2_pt_regPileUpDataMCDown[0],hJetCMVAV2_pt_regPileUpDataMCDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtRef_Up = HCMVAV2_reg_mass_corrPileUpPtRefUp HCMVAV2_reg_pt_corrPileUpPtRefUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtRefUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtRefUp[0],hJetCMVAV2_pt_regPileUpPtRefUp[1]) min(hJetCMVAV2_pt_regPileUpPtRefUp[0],hJetCMVAV2_pt_regPileUpPtRefUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtRef_Down = HCMVAV2_reg_mass_corrPileUpPtRefDown HCMVAV2_reg_pt_corrPileUpPtRefDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtRefDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtRefDown[0],hJetCMVAV2_pt_regPileUpPtRefDown[1]) min(hJetCMVAV2_pt_regPileUpPtRefDown[0],hJetCMVAV2_pt_regPileUpPtRefDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtBB_Up = HCMVAV2_reg_mass_corrPileUpPtBBUp HCMVAV2_reg_pt_corrPileUpPtBBUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtBBUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtBBUp[0],hJetCMVAV2_pt_regPileUpPtBBUp[1]) min(hJetCMVAV2_pt_regPileUpPtBBUp[0],hJetCMVAV2_pt_regPileUpPtBBUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtBB_Down = HCMVAV2_reg_mass_corrPileUpPtBBDown HCMVAV2_reg_pt_corrPileUpPtBBDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtBBDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtBBDown[0],hJetCMVAV2_pt_regPileUpPtBBDown[1]) min(hJetCMVAV2_pt_regPileUpPtBBDown[0],hJetCMVAV2_pt_regPileUpPtBBDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtEC1_Up = HCMVAV2_reg_mass_corrPileUpPtEC1Up HCMVAV2_reg_pt_corrPileUpPtEC1Up abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtEC1Up-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtEC1Up[0],hJetCMVAV2_pt_regPileUpPtEC1Up[1]) min(hJetCMVAV2_pt_regPileUpPtEC1Up[0],hJetCMVAV2_pt_regPileUpPtEC1Up[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

PileUpPtEC1_Down = HCMVAV2_reg_mass_corrPileUpPtEC1Down HCMVAV2_reg_pt_corrPileUpPtEC1Down abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrPileUpPtEC1Down-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regPileUpPtEC1Down[0],hJetCMVAV2_pt_regPileUpPtEC1Down[1]) min(hJetCMVAV2_pt_regPileUpPtEC1Down[0],hJetCMVAV2_pt_regPileUpPtEC1Down[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeJEREC1_Up = HCMVAV2_reg_mass_corrRelativeJEREC1Up HCMVAV2_reg_pt_corrRelativeJEREC1Up abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeJEREC1Up-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeJEREC1Up[0],hJetCMVAV2_pt_regRelativeJEREC1Up[1]) min(hJetCMVAV2_pt_regRelativeJEREC1Up[0],hJetCMVAV2_pt_regRelativeJEREC1Up[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeJEREC1_Down = HCMVAV2_reg_mass_corrRelativeJEREC1Down HCMVAV2_reg_pt_corrRelativeJEREC1Down abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeJEREC1Down-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeJEREC1Down[0],hJetCMVAV2_pt_regRelativeJEREC1Down[1]) min(hJetCMVAV2_pt_regRelativeJEREC1Down[0],hJetCMVAV2_pt_regRelativeJEREC1Down[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeFSR_Up = HCMVAV2_reg_mass_corrRelativeFSRUp HCMVAV2_reg_pt_corrRelativeFSRUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeFSRUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeFSRUp[0],hJetCMVAV2_pt_regRelativeFSRUp[1]) min(hJetCMVAV2_pt_regRelativeFSRUp[0],hJetCMVAV2_pt_regRelativeFSRUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeFSR_Down = HCMVAV2_reg_mass_corrRelativeFSRDown HCMVAV2_reg_pt_corrRelativeFSRDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeFSRDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeFSRDown[0],hJetCMVAV2_pt_regRelativeFSRDown[1]) min(hJetCMVAV2_pt_regRelativeFSRDown[0],hJetCMVAV2_pt_regRelativeFSRDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeStatFSR_Up = HCMVAV2_reg_mass_corrRelativeStatFSRUp HCMVAV2_reg_pt_corrRelativeStatFSRUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeStatFSRUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeStatFSRUp[0],hJetCMVAV2_pt_regRelativeStatFSRUp[1]) min(hJetCMVAV2_pt_regRelativeStatFSRUp[0],hJetCMVAV2_pt_regRelativeStatFSRUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeStatFSR_Down = HCMVAV2_reg_mass_corrRelativeStatFSRDown HCMVAV2_reg_pt_corrRelativeStatFSRDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeStatFSRDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeStatFSRDown[0],hJetCMVAV2_pt_regRelativeStatFSRDown[1]) min(hJetCMVAV2_pt_regRelativeStatFSRDown[0],hJetCMVAV2_pt_regRelativeStatFSRDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeStatEC_Up = HCMVAV2_reg_mass_corrRelativeStatECUp HCMVAV2_reg_pt_corrRelativeStatECUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeStatECUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeStatECUp[0],hJetCMVAV2_pt_regRelativeStatECUp[1]) min(hJetCMVAV2_pt_regRelativeStatECUp[0],hJetCMVAV2_pt_regRelativeStatECUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativeStatEC_Down = HCMVAV2_reg_mass_corrRelativeStatECDown HCMVAV2_reg_pt_corrRelativeStatECDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativeStatECDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativeStatECDown[0],hJetCMVAV2_pt_regRelativeStatECDown[1]) min(hJetCMVAV2_pt_regRelativeStatECDown[0],hJetCMVAV2_pt_regRelativeStatECDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativePtBB_Up = HCMVAV2_reg_mass_corrRelativePtBBUp HCMVAV2_reg_pt_corrRelativePtBBUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativePtBBUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativePtBBUp[0],hJetCMVAV2_pt_regRelativePtBBUp[1]) min(hJetCMVAV2_pt_regRelativePtBBUp[0],hJetCMVAV2_pt_regRelativePtBBUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativePtBB_Down = HCMVAV2_reg_mass_corrRelativePtBBDown HCMVAV2_reg_pt_corrRelativePtBBDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativePtBBDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativePtBBDown[0],hJetCMVAV2_pt_regRelativePtBBDown[1]) min(hJetCMVAV2_pt_regRelativePtBBDown[0],hJetCMVAV2_pt_regRelativePtBBDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativePtEC1_Up = HCMVAV2_reg_mass_corrRelativePtEC1Up HCMVAV2_reg_pt_corrRelativePtEC1Up abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativePtEC1Up-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativePtEC1Up[0],hJetCMVAV2_pt_regRelativePtEC1Up[1]) min(hJetCMVAV2_pt_regRelativePtEC1Up[0],hJetCMVAV2_pt_regRelativePtEC1Up[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

RelativePtEC1_Down = HCMVAV2_reg_mass_corrRelativePtEC1Down HCMVAV2_reg_pt_corrRelativePtEC1Down abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrRelativePtEC1Down-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regRelativePtEC1Down[0],hJetCMVAV2_pt_regRelativePtEC1Down[1]) min(hJetCMVAV2_pt_regRelativePtEC1Down[0],hJetCMVAV2_pt_regRelativePtEC1Down[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteScale_Up = HCMVAV2_reg_mass_corrAbsoluteScaleUp HCMVAV2_reg_pt_corrAbsoluteScaleUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteScaleUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteScaleUp[0],hJetCMVAV2_pt_regAbsoluteScaleUp[1]) min(hJetCMVAV2_pt_regAbsoluteScaleUp[0],hJetCMVAV2_pt_regAbsoluteScaleUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteScale_Down = HCMVAV2_reg_mass_corrAbsoluteScaleDown HCMVAV2_reg_pt_corrAbsoluteScaleDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteScaleDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteScaleDown[0],hJetCMVAV2_pt_regAbsoluteScaleDown[1]) min(hJetCMVAV2_pt_regAbsoluteScaleDown[0],hJetCMVAV2_pt_regAbsoluteScaleDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteMPFBias_Up = HCMVAV2_reg_mass_corrAbsoluteMPFBiasUp HCMVAV2_reg_pt_corrAbsoluteMPFBiasUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteMPFBiasUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteMPFBiasUp[0],hJetCMVAV2_pt_regAbsoluteMPFBiasUp[1]) min(hJetCMVAV2_pt_regAbsoluteMPFBiasUp[0],hJetCMVAV2_pt_regAbsoluteMPFBiasUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteMPFBias_Down = HCMVAV2_reg_mass_corrAbsoluteMPFBiasDown HCMVAV2_reg_pt_corrAbsoluteMPFBiasDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteMPFBiasDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteMPFBiasDown[0],hJetCMVAV2_pt_regAbsoluteMPFBiasDown[1]) min(hJetCMVAV2_pt_regAbsoluteMPFBiasDown[0],hJetCMVAV2_pt_regAbsoluteMPFBiasDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteStat_Up = HCMVAV2_reg_mass_corrAbsoluteStatUp HCMVAV2_reg_pt_corrAbsoluteStatUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteStatUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteStatUp[0],hJetCMVAV2_pt_regAbsoluteStatUp[1]) min(hJetCMVAV2_pt_regAbsoluteStatUp[0],hJetCMVAV2_pt_regAbsoluteStatUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

AbsoluteStat_Down = HCMVAV2_reg_mass_corrAbsoluteStatDown HCMVAV2_reg_pt_corrAbsoluteStatDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrAbsoluteStatDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regAbsoluteStatDown[0],hJetCMVAV2_pt_regAbsoluteStatDown[1]) min(hJetCMVAV2_pt_regAbsoluteStatDown[0],hJetCMVAV2_pt_regAbsoluteStatDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

SinglePionECAL_Up = HCMVAV2_reg_mass_corrSinglePionECALUp HCMVAV2_reg_pt_corrSinglePionECALUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrSinglePionECALUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regSinglePionECALUp[0],hJetCMVAV2_pt_regSinglePionECALUp[1]) min(hJetCMVAV2_pt_regSinglePionECALUp[0],hJetCMVAV2_pt_regSinglePionECALUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

SinglePionECAL_Down = HCMVAV2_reg_mass_corrSinglePionECALDown HCMVAV2_reg_pt_corrSinglePionECALDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrSinglePionECALDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regSinglePionECALDown[0],hJetCMVAV2_pt_regSinglePionECALDown[1]) min(hJetCMVAV2_pt_regSinglePionECALDown[0],hJetCMVAV2_pt_regSinglePionECALDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

SinglePionHCAL_Up = HCMVAV2_reg_mass_corrSinglePionHCALUp HCMVAV2_reg_pt_corrSinglePionHCALUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrSinglePionHCALUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regSinglePionHCALUp[0],hJetCMVAV2_pt_regSinglePionHCALUp[1]) min(hJetCMVAV2_pt_regSinglePionHCALUp[0],hJetCMVAV2_pt_regSinglePionHCALUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

SinglePionHCAL_Down = HCMVAV2_reg_mass_corrSinglePionHCALDown HCMVAV2_reg_pt_corrSinglePionHCALDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrSinglePionHCALDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regSinglePionHCALDown[0],hJetCMVAV2_pt_regSinglePionHCALDown[1]) min(hJetCMVAV2_pt_regSinglePionHCALDown[0],hJetCMVAV2_pt_regSinglePionHCALDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

Fragmentation_Up = HCMVAV2_reg_mass_corrFragmentationUp HCMVAV2_reg_pt_corrFragmentationUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrFragmentationUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regFragmentationUp[0],hJetCMVAV2_pt_regFragmentationUp[1]) min(hJetCMVAV2_pt_regFragmentationUp[0],hJetCMVAV2_pt_regFragmentationUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

Fragmentation_Down = HCMVAV2_reg_mass_corrFragmentationDown HCMVAV2_reg_pt_corrFragmentationDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrFragmentationDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regFragmentationDown[0],hJetCMVAV2_pt_regFragmentationDown[1]) min(hJetCMVAV2_pt_regFragmentationDown[0],hJetCMVAV2_pt_regFragmentationDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

TimePtEta_Up = HCMVAV2_reg_mass_corrTimePtEtaUp HCMVAV2_reg_pt_corrTimePtEtaUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrTimePtEtaUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regTimePtEtaUp[0],hJetCMVAV2_pt_regTimePtEtaUp[1]) min(hJetCMVAV2_pt_regTimePtEtaUp[0],hJetCMVAV2_pt_regTimePtEtaUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

TimePtEta_Down = HCMVAV2_reg_mass_corrTimePtEtaDown HCMVAV2_reg_pt_corrTimePtEtaDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrTimePtEtaDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regTimePtEtaDown[0],hJetCMVAV2_pt_regTimePtEtaDown[1]) min(hJetCMVAV2_pt_regTimePtEtaDown[0],hJetCMVAV2_pt_regTimePtEtaDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

FlavorQCD_Up = HCMVAV2_reg_mass_corrFlavorQCDUp HCMVAV2_reg_pt_corrFlavorQCDUp abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrFlavorQCDUp-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regFlavorQCDUp[0],hJetCMVAV2_pt_regFlavorQCDUp[1]) min(hJetCMVAV2_pt_regFlavorQCDUp[0],hJetCMVAV2_pt_regFlavorQCDUp[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

FlavorQCD_Down = HCMVAV2_reg_mass_corrFlavorQCDDown HCMVAV2_reg_pt_corrFlavorQCDDown abs(TVector2::Phi_mpi_pi(HCMVAV2_reg_phi_corrFlavorQCDDown-V_new_phi)) V_new_pt (Jet_eta[hJCMVAV2idx[0]]-Jet_eta[hJCMVAV2idx[1]]) Jet_btagCMVAV2[hJCMVAV2idx[0]] Jet_btagCMVAV2[hJCMVAV2idx[1]] softActivityVH_njets5 TVector2::Phi_mpi_pi(Jet_phi[hJCMVAV2idx[0]]-Jet_phi[hJCMVAV2idx[1]]) max(hJetCMVAV2_pt_regFlavorQCDDown[0],hJetCMVAV2_pt_regFlavorQCDDown[1]) min(hJetCMVAV2_pt_regFlavorQCDDown[0],hJetCMVAV2_pt_regFlavorQCDDown[1]) Max$(Jet_btagCMVAV2[aJCMVAV2idx]) Max$(Jet_pt_reg[aJCMVAV2idx]) MinIf$(abs(TVector2::Phi_mpi_pi(Jet_phi-V_new_phi))-3.1415,Jet_pt_reg>30&&Jet_puId>=4)

#-------------------------------------------------
# BDT Classifiers
[BDT_Znn_HighPt]
MVAtype     = <!MVAGeneral|type!>
MVAsettings = <!MVAGeneral|settings!>
signals     = [<!Samples|Signal!>]
backgrounds = [<!Samples|allBKG!>] 
treeVarSet  = ZvvBDTVars
treeCut     = HighPt_Signal

#-------------------------------------------------
# Classifiers to Evaluate
[MVALists]
List_for_submitscript = BDT_Znn_HighPt

#-------------------------------------------------
[Optimisation]
training = RTight_ZH125_janAngularOnly
parameters = NTrees,nEventsMin,MaxDepth,BoostType,AdaBoostBeta,SeparationType,nCuts,PruneMethod,PruneStrength,GradBaggingFraction,Shrinkage,UseBaggedGrad,UseRandomisedTrees,UseNvars

;Var= min max number_of steps. number_of_steps is 0 for only min, 1 for min and max, etc...
NTrees = [100,200,10]
nEventsMin = [50,600,0]
MaxDepth = [4,5,0]
BoostType = ['AdaBoost']
AdaBoostBeta = [0.01,0.2,10]
SeparationType = ['MisClassificationError']
nCuts = [25,150,0]
PruneMethod = ['NoPruning']
PruneStrength = [50]
GradBaggingFraction = [1.0]
Shrinkage = [0.1]
UseBaggedGrad = ['True']
UseRandomisedTrees = ['False']
UseNvars = [30]

